function _0x2c9d(){const _0x40110d=['where','name','105calXMT','getPartitionStrings','description','4lQJMCs','676472RGiOqv','start','diff','1778796LNcmLO','reorganizeFuturePartition','dropOldPartitions','raw','join','table_schema','future','range','andWhere','\x27)),','33146LzSBnK','getMysqlDay','repartition','YYYY-MM-DD','format','information_schema.partitions','differenceWith','225004DEEAXQ','getPartitionsThatShouldExist','map','KhYTg','5385230squsaf','day','getPartitions','lodash','`\x20VALUES\x20LESS\x20THAN\x20(TO_DAYS(\x27','removeExpired','PARTITION\x20`from','days','MAX_VALUE','then','1362255COcbAh','21TJoHfL','subtract','45414lkTYMp','partition_name'];_0x2c9d=function(){return _0x40110d;};return _0x2c9d();}function _0x58ba(_0x4976cc,_0xc2c14e){const _0x2c9d26=_0x2c9d();return _0x58ba=function(_0x58ba9f,_0x19fc61){_0x58ba9f=_0x58ba9f-0x16f;let _0x518b38=_0x2c9d26[_0x58ba9f];return _0x518b38;},_0x58ba(_0x4976cc,_0xc2c14e);}const _0x5f4352=_0x58ba;(function(_0x1fb752,_0x560ad7){const _0x3162c4=_0x58ba,_0x269dad=_0x1fb752();while(!![]){try{const _0x57b2bd=-parseInt(_0x3162c4(0x181))/0x1+-parseInt(_0x3162c4(0x188))/0x2+parseInt(_0x3162c4(0x196))/0x3*(-parseInt(_0x3162c4(0x173))/0x4)+-parseInt(_0x3162c4(0x170))/0x5*(parseInt(_0x3162c4(0x199))/0x6)+-parseInt(_0x3162c4(0x197))/0x7*(-parseInt(_0x3162c4(0x174))/0x8)+parseInt(_0x3162c4(0x177))/0x9+parseInt(_0x3162c4(0x18c))/0xa;if(_0x57b2bd===_0x560ad7)break;else _0x269dad['push'](_0x269dad['shift']());}catch(_0x44063f){_0x269dad['push'](_0x269dad['shift']());}}}(_0x2c9d,0x386fa));const _=require(_0x5f4352(0x18f));Table[_0x5f4352(0x191)]=function(_0x212372){const _0x1adce0=_0x5f4352;return Table[_0x1adce0(0x18e)]()[_0x1adce0(0x195)](_0x479871=>Table[_0x1adce0(0x183)](_0x212372,_0x479871));},Table[_0x5f4352(0x18e)]=function(){const _0x88b728=_0x5f4352;return knex(_0x88b728(0x186))['select'](knex['raw']('partition_name\x20as\x20name'),knex['raw']('partition_description\x20as\x20description'))[_0x88b728(0x19b)](_0x88b728(0x17c),dbName)[_0x88b728(0x17f)](_0x88b728(0x19a),'not\x20in',[_0x88b728(0x175),_0x88b728(0x17d)])['then'](_0xdae67=>_0xdae67[_0x88b728(0x18a)](_0xa94b8f=>({'name':_0xa94b8f[_0x88b728(0x16f)],'description':_0xa94b8f[_0x88b728(0x172)]==='MAX_VALUE'?_0x88b728(0x194):parseInt(_0xa94b8f[_0x88b728(0x172)])})));},Table[_0x5f4352(0x183)]=function(_0x521b5c,_0x58d143){const _0x352b33=_0x5f4352,_0x39c0f2=Table[_0x352b33(0x189)](_0x521b5c,_0x58d143),_0x581781=_[_0x352b33(0x187)](_0x39c0f2,_0x58d143,(_0x116888,_0x42eba5)=>_0x116888[_0x352b33(0x172)]===_0x42eba5[_0x352b33(0x172)]),_0x4fb87f=_[_0x352b33(0x187)](_0x58d143,_0x39c0f2,(_0x3e78a5,_0x1616e2)=>_0x3e78a5[_0x352b33(0x172)]===_0x1616e2['description']),_0x2f57e9=dedent`${Table[_0x352b33(0x178)](_0x581781)}
    ${Table[_0x352b33(0x179)](_0x4fb87f)}`;return knex[_0x352b33(0x17a)](_0x2f57e9);},Table[_0x5f4352(0x171)]=function(){const _0x5df2b3=_0x5f4352,_0x39bdb0=_[_0x5df2b3(0x17e)](MAX_DATA_RETENTION-0x2,-0x2,-0x1),_0x1bd046=_0x39bdb0['map'](_0x144eb2=>{const _0x8542b2=_0x5df2b3,_0xec6f0f=moment()['subtract'](_0x144eb2,_0x8542b2(0x18d))[_0x8542b2(0x185)](_0x8542b2(0x184)),_0x3b39dc=moment()[_0x8542b2(0x198)](_0x144eb2+0x1,'day')['format'](PARTITION_NAME_DATE_FORMAT);return _0x8542b2(0x192)+_0x3b39dc+_0x8542b2(0x190)+_0xec6f0f+_0x8542b2(0x180);});return _0x1bd046[_0x5df2b3(0x17b)]('\x0a');},Table['getPartitionsThatShouldExist']=function(_0x71f250,_0x13db6f){const _0x32f53c=_0x5f4352,_0x5be7b4=_['range'](_0x71f250-0x2,-0x2,-0x1),_0x141060=Math['min'](..._0x13db6f[_0x32f53c(0x18a)](_0x335f8c=>_0x335f8c[_0x32f53c(0x172)]));return _0x5be7b4[_0x32f53c(0x18a)](_0x20fd3c=>{const _0x179df3=_0x32f53c;if('KhYTg'!==_0x179df3(0x18b)){const _0x5e38ee=_0x167dcc[_0x179df3(0x17e)](_0x2da96b-0x2,-0x2,-0x1),_0x48325f=_0x5e38ee[_0x179df3(0x18a)](_0x2a5fa1=>{const _0x999f9d=_0x179df3,_0x277bd6=_0x3881c7()[_0x999f9d(0x198)](_0x2a5fa1,_0x999f9d(0x18d))[_0x999f9d(0x185)](_0x999f9d(0x184)),_0x2694d0=_0x40c268()['subtract'](_0x2a5fa1+0x1,'day')['format'](_0x57ebc8);return _0x999f9d(0x192)+_0x2694d0+_0x999f9d(0x190)+_0x277bd6+_0x999f9d(0x180);});return _0x48325f[_0x179df3(0x17b)]('\x0a');}else{const _0x528bbf=moment()[_0x179df3(0x198)](_0x20fd3c,'day'),_0x1bf0a8=moment()[_0x179df3(0x198)](_0x20fd3c+0x1,_0x179df3(0x18d));if(Table[_0x179df3(0x182)](_0x1bf0a8)<_0x141060)return null;return{'name':'from'+_0x1bf0a8[_0x179df3(0x185)](PARTITION_NAME_DATE_FORMAT),'description':Table[_0x179df3(0x182)](_0x528bbf)};}})['filter'](_0x356be9=>!!_0x356be9);},Table[_0x5f4352(0x182)]=function(_0x4c68bb){const _0x44daa1=_0x5f4352;return _0x4c68bb[_0x44daa1(0x176)](moment([0x0,0x0,0x1]),_0x44daa1(0x193));};