<html>

<head>
	<title>hemmeing code</title>
	<script>
		function code() {
			let message = getValueOfElementById('enteredMessage');
			let controlBits = getControlBits(message);
			document.getElementById('codedMessage').value = message.join('') + controlBits.join('');
			document.getElementById('decodedMessage').value = "";
			document.getElementById('informationOfError').textContent = "";
		}

		function decode() {
			let codedMessage = getValueOfElementById('codedMessage');
			let syndrome = getSyndrome(codedMessage);
			codedMessage = getCorrectedCodedMessage(codedMessage, getNumberIncorrectBit(syndrome));
			document.getElementById('decodedMessage').value = codedMessage.slice(0, 4).join('');
		}

		function getValueOfElementById(id) {
			let value = document.getElementById(id).value;
			value = value.split('');
			for (let i = 0; i < value.length; i++)
				value[i] *= 1;

			return value;
CQl9DQoNCgkJZnVuY3Rpb24gZ2V0Q29udHJvbEJpdHMobWVzc2FnZSkgew0KCQkJbGV0IGNvbnRyb2xCaXRzID0gbmV3IEFycmF5KCk7DQoJCQljb250cm9sQml0cy5wdXNoKChtZXNzYWdlWzBdICsgbWVzc2FnZVsxXSArIG1lc3NhZ2VbMl0pICUgMik7DQoJCQljb250cm9sQml0cy5wdXNoKChtZXNzYWdlWzFdICsgbWVzc2FnZVsyXSArIG1lc3NhZ2VbM10pICUgMik7DQoJCQljb250cm9sQml0cy5wdXNoKChtZXNzYWdlWzBdICsgbWVzc2FnZVsxXSArIG1lc3NhZ2VbM10pICUgMik7DQoNCgkJCXJldHVybiBjb250cm9sQml0czsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGdldFN5bmRyb21lKGNvZGVkTWVzc2FnZSkgew0KCQkJbGV0IHN5bmRyb21lID0gbmV3IEFycmF5KCk7DQoJCQlzeW5kcm9tZS5wdXNoKChjb2RlZE1lc3NhZ2VbNF0gKyBjb2RlZE1lc3NhZ2VbMF0gKyBjb2RlZE1lc3NhZ2VbMV0gKyBjb2RlZE1lc3NhZ2VbMl0pICUgMik7DQoJCQlzeW5kcm9tZS5wdXNoKChjb2RlZE1lc3NhZ2VbNV0gKyBjb2RlZE1lc3NhZ2VbMV0gKyBjb2RlZE1lc3NhZ2VbMl0gKyBjb2RlZE1lc3NhZ2VbM10pICUgMik7DQoJCQlzeW5kcm9tZS5wdXNoKChjb2RlZE1lc3NhZ2VbNl0gKyBjb2RlZE1lc3NhZ2VbMF0gKyBjb2RlZE1lc3NhZ2VbMV0gKyBjb2RlZE1lc3NhZ2VbM10pICUgMik7DQoNCgkJCXJldHVybiBzeW5kcm9tZTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGdldE51bWJlckluY29ycmVjdEJpdChzeW5kcm9tZSkgew0KCQkJaWYgKHN5bmRyb21lWzBdID09IDAgJiYgc3luZHJvbWVbMV0gPT0gMCAmJiBzeW5kcm9tZVsyXSA9PSAxKQ0KCQkJCXJldHVybiA2Ow0KCQkJaWYgKHN5bmRyb21lWzBdID09IDAgJiYgc3luZHJvbWVbMV0gPT0gMSAmJiBzeW5kcm9tZVsyXSA9PSAwKQ0KCQkJCXJldHVybiA1Ow0KCQkJaWYgKHN5bmRyb21lWzBdID09IDAgJiYgc3luZHJvbWVbMV0gPT0gMSAmJiBzeW5kcm9tZVsyXSA9PSAxKQ0KCQkJCXJldHVybiAzOw0KCQkJaWYgKHN5bmRyb21lWzBdID09IDEgJiYgc3luZHJvbWVbMV0gPT0gMCAmJiBzeW5kcm9tZVsyXSA9PSAwKQ0KCQkJCXJldHVybiA0Ow0KCQkJaWYgKHN5bmRyb21lWzBdID09IDEgJiYgc3luZHJvbWVbMV0gPT0gMCAmJiBzeW5kcm9tZVsyXSA9PSAxKQ0KCQkJCXJldHVybiAwOw0KCQkJaWYgKHN5bmRyb21lWzBdID09IDEgJiYgc3luZHJvbWVbMV0gPT0gMSAmJiBzeW5kcm9tZVsyXSA9PSAwKQ0KCQkJCXJldHVybiAyOw0KCQkJaWYgKHN5bmRyb21lWzBdID09IDEgJiYgc3luZHJvbWVbMV0gPT0gMSAmJiBzeW5kcm9tZVsyXSA9PSAxKQ0KCQkJCXJldHVybiAxOw==
			return -1;
		}

		function getCorrectedCodedMessage(codedMessage, numberIncorrectBit) {
			if (numberIncorrectBit != -1) {
				document.getElementById('informationOfError').textContent = "Number incorrect bit (from 0): " + numberIncorrectBit;
				codedMessage[numberIncorrectBit] = (codedMessage[numberIncorrectBit] + 1) % 2;
				return codedMessage;
			}
			document.getElementById('informationOfError').textContent = "All bits are received correctly";
			return codedMessage;
		}
	</script>
</head>

<body>
	<h1>Hemmeing code</h1>
	<p> <input type='text' id='enteredMessage'> Type the message </p>
	<p> <input type='button' value='code' onClick='code()'> </p>
	<p> <input type='text' id='codedMessage'> Coded message </p>
	<p> <input type='button' value='decode' onClick='decode()'> </p>
	<p> <input type='text' id='decodedMessage'> Decoded message </p>
	<p> <span id='informationOfError'> </span> </p>
</body>

</html>